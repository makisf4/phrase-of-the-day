<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Η καθημερινή φράση που σε περιγράφει. Χωρίς motivation, μόνο αναγνώριση.">
    <meta property="og:locale" content="el_GR">
    <link rel="canonical" href="https://www.kratagera.gr/">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <title>Η Φράση της Ημέρας που Σε Περιγράφει</title>
    
    <!-- Cookiebot CMP -->
    <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="2886c223-c2ce-48d6-a45c-3f5b0b7d633f" data-blockingmode="auto" type="text/javascript"></script>
    
    <script src="consent-config.js?v=20260104-2"></script>
    <script src="/ads.js?v=20260104-2" defer></script>
    <style>
        :root {
            --bg: #fafbfc;
            --bg2: #f5f6f8;
            --text: #0a0a0a;
            --muted: #64748b;
            --card: rgba(255, 255, 255, 0.92);
            --card2: rgba(255, 255, 255, 0.85);
            --border: rgba(226, 232, 240, 0.6);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.04);
            --shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06);
            --radius: 24px;
            --max: 720px;
            --pad: 1.5rem;
            --gap: 0.875rem;
            --accent: #111827;
            --accent-strong: #0a0f1a;
            --accent-light: color-mix(in srgb, var(--accent) 85%, white);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0a0e1a;
                --bg2: #0f1419;
                --text: #f8fafc;
                --muted: #94a3b8;
                --card: rgba(26, 31, 46, 0.88);
                --card2: rgba(26, 31, 46, 0.82);
                --border: rgba(45, 55, 72, 0.5);
                --shadow: 0 4px 20px rgba(0, 0, 0, 0.4), 0 1px 4px rgba(0, 0, 0, 0.2);
                --shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.3);
                --accent: #1f2937;
                --accent-strong: #111827;
                --accent-light: color-mix(in srgb, var(--accent) 85%, white);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        ::selection {
            background: var(--accent-light);
            color: var(--accent);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
            padding: 2.5rem var(--pad);
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 20% 30%, rgba(37, 99, 235, 0.04) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 70%, rgba(139, 92, 246, 0.03) 0%, transparent 60%),
                linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
            pointer-events: none;
            z-index: -3;
        }

        .bg-layer {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            pointer-events: none;
            z-index: -2;
            opacity: 1;
            transition: opacity 0.8s ease;
        }

        .bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 50% 20%, rgba(0, 0, 0, 0.25) 0%, transparent 60%),
                radial-gradient(ellipse at 50% 80%, rgba(0, 0, 0, 0.3) 0%, transparent 60%),
                linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.35) 50%, rgba(0, 0, 0, 0.3) 100%),
                rgba(0, 0, 0, 0.45);
            pointer-events: none;
            z-index: 1;
        }

        @media (min-width: 768px) {
            .bg-layer {
                background-attachment: fixed;
            }
        }

        .container {
            max-width: var(--max);
            margin: 0 auto;
            position: relative;
            padding: 0 var(--pad);
            z-index: 2;
        }

        .hero {
            text-align: center;
            margin-bottom: 5rem;
            padding-top: 3rem;
        }

        .hero h1 {
            font-size: clamp(34px, 5vw, 72px);
            margin-bottom: 1.25rem;
            color: rgba(255, 255, 255, 0.92);
            font-weight: 800;
            letter-spacing: -0.04em;
            line-height: 1.15;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45), 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero .subtext {
            font-size: clamp(14px, 1.6vw, 20px);
            color: rgba(255, 255, 255, 0.78);
            font-style: italic;
            font-weight: 400;
            margin: 0;
            letter-spacing: 0.01em;
            text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45), 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .content {
            margin-bottom: 4rem;
        }

        .section {
            margin-bottom: 4rem;
            text-align: center;
        }

        .section:last-of-type {
            margin-bottom: 0;
        }

        .section h2 {
            font-size: clamp(12px, 1.2vw, 16px);
            margin-bottom: 1.75rem;
            margin-top: 0;
            color: rgba(255, 255, 255, 0.78);
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45), 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            text-align: center;
        }

        .card {
            background: var(--card);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: clamp(1.5rem, 3vw, 2.75rem);
            margin-bottom: 0;
            box-shadow: var(--shadow);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @supports not (backdrop-filter: blur(20px)) {
            .card {
                background: var(--card2);
            }
        }

        @media (min-width: 768px) {
            .card:hover {
                transform: translateY(-4px);
                box-shadow: var(--shadow-hover);
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .card {
                transition: none;
            }
            .card:hover {
                transform: none;
            }
        }

        .phrase-box {
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.75rem;
            margin-left: 0;
            margin-right: 0;
            position: relative;
            padding: 0 1.5rem;
        }

        .phrase-box::before,
        .phrase-box::after {
            content: '"';
            position: absolute;
            font-size: 2.5rem;
            font-family: Georgia, serif;
            color: var(--border);
            opacity: 0.2;
            line-height: 1;
            font-weight: 300;
        }

        .phrase-box::before {
            left: 0.5rem;
            top: -0.25rem;
        }

        .phrase-box::after {
            right: 0.5rem;
            bottom: -0.75rem;
            transform: rotate(180deg);
        }

        .phrase {
            font-size: clamp(20px, 3.5vw, 34px);
            line-height: 1.5;
            text-align: center;
            color: var(--text);
            opacity: 0;
            transform: translateY(12px);
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 400;
            max-width: 100%;
            padding: 0;
            margin: 0;
            letter-spacing: -0.015em;
        }

        .phrase.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        @media (prefers-reduced-motion: reduce) {
            .phrase {
                transition: opacity 0.3s ease;
                transform: none;
            }
            .phrase.revealed {
                transform: none;
            }
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1rem;
            color: var(--muted);
        }

        .loading-dots {
            display: inline-flex;
            gap: 0.25rem;
        }

        .loading-dots span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--muted);
            animation: bounce 1.4s infinite ease-in-out;
        }

        .loading-dots span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .loading-dots span {
                animation: none;
            }
        }

        .streak-line {
            font-size: 0.8125rem;
            color: var(--muted);
            text-align: center;
            margin-bottom: 1.75rem;
            margin-top: 0;
            font-weight: 500;
            letter-spacing: 0.02em;
        }

        .actions {
            display: flex;
            justify-content: center;
            margin-top: 1.75rem;
            margin-left: 0;
            margin-right: 0;
        }

        .actions button {
            max-width: 220px;
            width: 100%;
        }

        button {
            padding: 0.875rem 1.75rem;
            border: 1.5px solid var(--border);
            border-radius: 999px;
            background: var(--card);
            color: var(--text);
            font-size: 0.9375rem;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: inherit;
            font-weight: 500;
            min-height: 44px;
            position: relative;
            letter-spacing: -0.01em;
        }

        button:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 3px;
        }

        button.btn--primary {
            background: var(--accent);
            color: white;
            border-color: color-mix(in srgb, var(--accent) 70%, transparent);
        }

        button.btn--primary:hover {
            background: var(--accent-light);
            border-color: var(--accent-light);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px color-mix(in srgb, var(--accent) 40%, transparent);
        }

        button.btn--primary:active {
            background: var(--accent-strong);
            border-color: var(--accent-strong);
        }

        button.btn--primary:focus-visible {
            outline: none;
            box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent) 35%, transparent);
        }

        @supports not (color-mix(in srgb, var(--accent) 85%, white)) {
            button.btn--primary:hover {
                background: color-mix(in srgb, var(--accent) 85%, white);
                border-color: color-mix(in srgb, var(--accent) 85%, white);
            }
        }

        button.btn--secondary {
            background: transparent;
            border-color: var(--border);
            color: var(--text);
        }

        button.btn--secondary:hover {
            background: var(--card);
            border-color: var(--muted);
            transform: translateY(-1px);
        }

        button.btn--tertiary {
            background: transparent;
            border-color: transparent;
            color: var(--muted);
        }

        button.btn--tertiary:hover {
            background: var(--card);
            color: var(--text);
            border-color: var(--border);
        }

        button:active {
            transform: translateY(0) scale(0.98);
        }

        @media (prefers-reduced-motion: reduce) {
            button {
                transition: none;
            }
            button:hover {
                transform: none;
            }
            button:active {
                transform: none;
            }
        }


        .section p {
            margin-bottom: 0;
            margin-top: 0;
            color: rgba(255, 255, 255, 0.78);
            line-height: 1.85;
            font-size: 0.9375rem;
            text-align: center;
            max-width: 100%;
            font-weight: 400;
            letter-spacing: 0.01em;
            text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45), 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        @media (min-width: 768px) {
            body {
                padding: 3.5rem var(--pad);
            }

            .container {
                padding: 0 var(--pad);
            }

            .hero {
                margin-bottom: 6rem;
                padding-top: 4rem;
            }

            .card {
                padding: 3.5rem;
            }

            .phrase-box {
                min-height: 200px;
            }

            .actions {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: var(--gap);
            }

            .actions button:nth-child(3),
            .actions button:nth-child(4) {
                grid-column: auto;
            }

            button {
                padding: 0.9375rem 2rem;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 2rem 1.25rem;
            }

            .container {
                padding: 0 1.25rem;
            }

            .hero {
                margin-bottom: 4rem;
                padding-top: 2rem;
            }

            .hero h1 {
                font-size: 1.875rem;
            }

            .card {
                padding: 2rem;
            }

            .phrase-box {
                min-height: 160px;
            }

            .phrase-box::before,
            .phrase-box::after {
                font-size: 2rem;
            }

            .actions {
                grid-template-columns: 1fr 1fr;
            }

            button {
                width: 100%;
            }

            footer a {
                display: block;
                margin: 0.5rem 0;
            }

            .ad-wrap {
                min-height: 250px;
                margin-top: 2.5rem;
                padding: 0 1.25rem;
            }
        }

        /* Ad Slot Styling */
        .ad-wrap {
            max-width: var(--max);
            margin: 3rem auto 0;
            padding: 0 var(--pad);
            min-height: 250px;
            display: block;
            position: relative;
            z-index: 2;
            /* Temporary: visible background for debugging */
            background: rgba(255, 255, 255, 0.02);
        }

        .ad-wrap::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 2rem;
            background: var(--border);
        }

        @media (min-width: 768px) {
            .ad-wrap {
                min-height: 280px;
                margin-top: 4rem;
            }
        }

        /* Cookiebot Banner Customization - Make it much smaller and compact */
        #CybotCookiebotDialog {
            font-size: 0.6875rem !important;
            max-width: 500px !important;
            max-height: 92vh !important;
            margin: 0 auto !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            right: auto !important;
            overflow: hidden !important;
            position: fixed !important;
            display: flex !important;
            flex-direction: column !important;
        }

        #CybotCookiebotDialogBody {
            padding: 0.5rem 0.75rem !important;
            max-height: 75vh !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
            -webkit-overflow-scrolling: touch !important;
            flex: 1 1 auto !important;
            display: flex !important;
            flex-direction: column !important;
        }

        #CybotCookiebotDialogBodyContent {
            padding: 0.375rem 0.5rem !important;
            flex: 1 1 auto !important;
            overflow-y: auto !important;
            -webkit-overflow-scrolling: touch !important;
        }

        #CybotCookiebotDialogBodyTitle {
            font-size: 0.8125rem !important;
            margin-bottom: 0.25rem !important;
            font-weight: 600 !important;
        }

        #CybotCookiebotDialogBodyContentText {
            font-size: 0.625rem !important;
            line-height: 1.25 !important;
            margin-bottom: 0.375rem !important;
        }

        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll,
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowallSelection,
        #CybotCookiebotDialogBodyButtonDecline {
            padding: 0.25rem 0.5rem !important;
            font-size: 0.6875rem !important;
            margin: 0.125rem !important;
            min-height: auto !important;
            height: auto !important;
        }

        #CybotCookiebotDialogBodyButtons {
            margin-top: 0.375rem !important;
            flex-wrap: wrap !important;
            gap: 0.125rem !important;
            flex-shrink: 0 !important;
        }

        /* Ensure footer/buttons stay visible */
        #CybotCookiebotDialogFooter {
            padding-bottom: 12px !important;
            flex-shrink: 0 !important;
        }

        #CybotCookiebotDialogBodyLevel {
            margin-top: 0.375rem !important;
        }

        /* Make cookie category toggles smaller */
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAllSelection,
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowSelection {
            font-size: 0.625rem !important;
            padding: 0.25rem 0.375rem !important;
        }

        /* Make toggle switches and labels smaller */
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAllSelection,
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowSelection,
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAllSelection {
            font-size: 0.625rem !important;
        }

        /* Make "Show details" link smaller */
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAllSelection a,
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowSelection a {
            font-size: 0.625rem !important;
        }

        /* Make cookie category labels smaller */
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAllSelection label,
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowSelection label {
            font-size: 0.625rem !important;
        }

        /* Make toggle switches smaller */
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAllSelection input[type="checkbox"],
        #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowSelection input[type="checkbox"] {
            width: 1rem !important;
            height: 1rem !important;
        }

        @media (max-width: 768px) {
            #CybotCookiebotDialog {
                max-width: 90% !important;
                max-height: 70vh !important;
                font-size: 0.625rem !important;
                overflow-y: auto !important;
                overflow-x: hidden !important;
                bottom: 1rem !important;
                top: auto !important;
                position: fixed !important;
            }

            #CybotCookiebotDialogBody {
                padding: 0.5rem 0.625rem !important;
                max-height: 100% !important;
                overflow-y: auto !important;
            }

            #CybotCookiebotDialogBodyContent {
                padding: 0.375rem !important;
            }

            #CybotCookiebotDialogBodyTitle {
                font-size: 0.75rem !important;
            }

            #CybotCookiebotDialogBodyContentText {
                font-size: 0.5625rem !important;
                line-height: 1.2 !important;
            }

            #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll,
            #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowallSelection,
            #CybotCookiebotDialogBodyButtonDecline {
                padding: 0.25rem 0.5rem !important;
                font-size: 0.625rem !important;
                display: inline-block !important;
                width: auto !important;
                margin: 0.125rem !important;
            }

            /* Ensure buttons are visible and sticky at bottom */
            #CybotCookiebotDialogBodyButtons {
                position: sticky !important;
                bottom: 0 !important;
                background: white !important;
                padding-top: 0.5rem !important;
                margin-top: 0.5rem !important;
                border-top: 1px solid #e5e7eb !important;
            }
        }

        /* Consent Gate Styling */
        .consent-gate {
            max-width: var(--max);
            margin: 0 auto;
            padding: 0 var(--pad);
        }

        .consent-gate .card {
            margin-top: 2rem;
        }

        .consent-gate h3 {
            color: var(--text);
        }

        .consent-gate .actions {
            display: flex;
            flex-wrap: wrap;
        }

        @media (max-width: 480px) {
            .consent-gate .actions {
                flex-direction: column;
            }

            .consent-gate .actions button {
                width: 100%;
            }
        }

        /* Fix Cookiebot modal scroll issues (desktop browsers) */
        html.CookiebotDialogOpen,
        body.CookiebotDialogOpen {
            overflow: visible !important;
            height: auto !important;
        }

        /* Ensure parent containers don't break fixed positioning */
        .container,
        .content,
        main {
            transform: none !important;
            filter: none !important;
            perspective: none !important;
        }

        /* === Cookiebot hardening: isolate from site typography scaling === */
        /* Prevent vw/clamp font-size from affecting Cookiebot */
        #CybotCookiebotDialog,
        #CybotCookiebotDialog *,
        .CybotCookiebotDialog,
        .CybotCookiebotDialog * {
            font-size: 14px !important;
            line-height: 1.35 !important;
        }

        /* === Cookiebot dialog constraints: always in viewport, centered, scrollable === */
        #CybotCookiebotDialog,
        .CybotCookiebotDialog {
            position: fixed !important;
            inset: 0 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            z-index: 2147483647 !important;
            max-width: 100vw !important;
            max-height: 100vh !important;
            overflow: hidden !important;
            transform: none !important;
            -webkit-transform: none !important;
            margin: 0 !important;
            padding: 12px !important;
        }

        #CybotCookiebotDialogBody,
        .CybotCookiebotDialogBody {
            max-width: min(720px, calc(100vw - 24px)) !important;
            max-height: calc(100vh - 24px) !important;
            width: auto !important;
            overflow: hidden !important;
            display: flex !important;
            flex-direction: column !important;
            border-radius: 12px !important;
        }

        #CybotCookiebotDialogBodyContent,
        .CybotCookiebotDialogBodyContent {
            max-height: calc(100vh - 200px) !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
            -webkit-overflow-scrolling: touch !important;
            flex: 1 1 auto !important;
        }

        /* Ensure buttons/footer are always visible */
        #CybotCookiebotDialogBodyButtons,
        #CybotCookiebotDialogFooter,
        .CybotCookiebotDialogBodyButtons,
        .CybotCookiebotDialogFooter {
            flex-shrink: 0 !important;
            position: sticky !important;
            bottom: 0 !important;
        }

        /* Underlay must cover entire screen */
        #CybotCookiebotDialogBodyUnderlay,
        .CybotCookiebotDialogBodyUnderlay {
            position: fixed !important;
            inset: 0 !important;
            z-index: 2147483646 !important;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            #CybotCookiebotDialog,
            .CybotCookiebotDialog {
                padding: 8px !important;
            }

            #CybotCookiebotDialogBody,
            .CybotCookiebotDialogBody {
                max-width: calc(100vw - 16px) !important;
                max-height: calc(100vh - 16px) !important;
            }
        }

        /* Fallback for any Cookiebot element with ID starting with CybotCookiebotDialog */
        [id^="CybotCookiebotDialog"] {
            z-index: 2147483647 !important;
        }

        /* Safety: prevent horizontal scroll lock that might affect dialog */
        html, body {
            overflow-x: hidden;
        }

        /* When Cookiebot dialog is open, ensure body doesn't interfere with fixed positioning */
        html.CookiebotDialogOpen,
        body.CookiebotDialogOpen {
            overflow-x: hidden !important;
            /* Don't change body position - keep it relative for layout, but ensure Cookiebot escapes */
        }
    </style>
</head>
<body class="app">
    <div class="bg-layer" id="bgLayer"></div>
    <div class="bg-overlay"></div>
    <div class="container">
        <header class="hero">
            <h1>Η Φράση της Ημέρας<br>που σε Περιγράφει</h1>
            <p class="subtext">Δεν είναι motivation. Είναι αναγνώριση.</p>
        </header>

        <main class="content">
            <!-- Consent Gate (shown when no marketing consent) -->
            <div id="consent-gate" class="consent-gate" style="display: none;">
                <div class="card card--primary">
                    <h3 style="font-size: 1.25rem; margin-bottom: 1rem; text-align: center;">Για να δεις τη Φράση της Ημέρας</h3>
                    <p style="text-align: center; margin-bottom: 1.5rem; color: var(--muted);">
                        Επίλεξε "Αποδοχή" ή "Επιλογή" και ενεργοποίησε τα Marketing cookies.
                    </p>
                    <div class="actions" style="justify-content: center; gap: 0.75rem;">
                            <button data-action="open-cookies" class="btn--primary">Ρυθμίσεις cookies</button>
                        <button id="skipPhraseBtn" data-action="skip-phrase" class="btn--secondary">Συνέχεια χωρίς φράση</button>
                    </div>
                </div>
            </div>

            <!-- Phrase Container (hidden until consent) -->
            <section id="phrase-container" class="section" style="display: none;">
                <h2 id="sectionTitle" class="section-title">Η σημερινή φράση</h2>
                
                <!-- Fallback message (shown when user skips phrase) -->
                <div id="phrase-fallback" class="consent-gate" style="display: none;">
                    <div class="card card--primary">
                        <h3 style="font-size: 1.25rem; margin-bottom: 1rem; text-align: center;">Χωρίς cookies (προς το παρόν)</h3>
                        <p style="text-align: center; margin-bottom: 1.5rem; color: var(--muted);">
                            Μπορείς να δεις τη Φράση της Ημέρας αν ενεργοποιήσεις Preferences ή Statistics ή Marketing cookies από τις Ρυθμίσεις cookies.
                        </p>
                        <div class="actions" style="justify-content: center;">
                            <button data-action="open-cookies" class="btn--primary">Ρυθμίσεις cookies</button>
                        </div>
                    </div>
                </div>
                
                <!-- Actual phrase content (hidden when fallback is shown) -->
                <div id="phrase-content" style="display: none;">
                    <div class="card card--primary">
                        <div class="phrase-box" id="phraseBox">
                            <div class="loading" id="loading">
                                Περίμενε<span class="loading-dots"><span></span><span></span><span></span></span>
                            </div>
                            <div class="phrase" id="phrase"></div>
                        </div>
                        <div class="streak-line" id="streakLine"></div>
                        <div class="actions">
                            <button id="shareBtn" class="btn--primary" data-action="share">Share</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <p>Μια καθημερινή φράση που αλλάζει κάθε μέρα για όλους. Χωρίς motivation, χωρίς quotes, χωρίς horoscope. Μόνο μια ειρωνική ανάγνωση της καθημερινότητας.</p>
            </section>
        </main>

        <!-- Ad Slot -->
        <section id="ad-slot-home" class="ad-wrap" aria-label="Διαφήμιση">
            <!-- AdSense ad will be inserted here when consent is granted -->
        </section>

        <footer style="text-align: center; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border);">
            <a href="index.html" style="color: rgba(255, 255, 255, 0.78); text-decoration: none; font-size: 0.875rem; text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45); transition: opacity 0.2s; margin: 0 0.75rem; display: inline-block;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Αρχική</a>
            <a href="about.html" style="color: rgba(255, 255, 255, 0.78); text-decoration: none; font-size: 0.875rem; text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45); transition: opacity 0.2s; margin: 0 0.75rem; display: inline-block;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Σχετικά</a>
            <a href="privacy.html" style="color: rgba(255, 255, 255, 0.78); text-decoration: none; font-size: 0.875rem; text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45); transition: opacity 0.2s; margin: 0 0.75rem; display: inline-block;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Πολιτική Απορρήτου</a>
            <a href="contact.html" style="color: rgba(255, 255, 255, 0.78); text-decoration: none; font-size: 0.875rem; text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45); transition: opacity 0.2s; margin: 0 0.75rem; display: inline-block;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Επικοινωνία</a>
            <a href="javascript:void(0)" data-action="open-cookies" style="color: rgba(255, 255, 255, 0.78); text-decoration: none; font-size: 0.875rem; text-shadow: 0 1px 18px rgba(0, 0, 0, 0.45); transition: opacity 0.2s; margin: 0 0.75rem; display: inline-block;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Ρυθμίσεις cookies</a>
        </footer>

    </div>

    <script>
        const PHRASES = [
            "Έκανες ό,τι μπορούσες. Απλώς όχι πολλά.",
            "Δεν είσαι κουρασμένος. Απλώς βαρέθηκες.",
            "Είπες 'αύριο' και το εννοούσες.",
            "Σήμερα είσαι σε \"λειτουργία\": λειτουργώ, δεν ζω.",
            "Ξεκίνησες δυναμικά. Μετά θυμήθηκες ποιος είσαι.",
            "Έχεις πρόγραμμα. Απλώς δεν το ακολουθείς.",
            "Το έψαξες πολύ. Και στο τέλος δεν το έκανες.",
            "Δεν αναβάλεις. Απλώς δίνεις χρόνο στις ιδέες να… πεθάνουν μόνες τους.",
            "Σκέφτηκες να το κάνεις σωστά. Και διάλεξες ειρήνη.",
            "Σήμερα είσαι \"θα δούμε\".",
            "Είσαι παραγωγικός. Σε πράγματα που δεν μετράνε.",
            "Έβαλες στόχο. Και μετά σε τρόμαξε η συνέπεια.",
            "Δεν θες πολλά. Θες απλώς να μη σε ενοχλούν.",
            "Έχεις άποψη. Απλώς δεν έχεις ενέργεια να τη στηρίξεις.",
            "Είσαι σε φάση \"άστο, θα το χαλάσω\".",
            "Έκανες plan B. Και μετά έζησες στο plan B.",
            "Σήμερα είσαι \"θα απαντήσω αργότερα\" και το πιστεύεις.",
            "Δεν είσαι χαμένος. Απλώς κάνεις κύκλους με αυτοπεποίθηση.",
            "Είσαι ήρεμος. Από παραίτηση.",
            "Είσαι full booked. Από αποφυγές.",
            "Σου αξίζει διάλειμμα. Αλλά το πήρες πριν ξεκινήσεις.",
            "Έχεις κίνητρο. Κάπου. Δεν ξέρεις πού.",
            "Σήμερα η ενέργειά σου είναι \"μην\".",
            "Δεν θες drama. Θες απλώς να έχεις δίκιο ήσυχα.",
            "Λες \"ναι\" σε πράγματα που μετά μισείς. Κλασικά.",
            "Είσαι καλός άνθρωπος. Απλώς με μικρή υπομονή.",
            "Σήμερα είσαι \"ό,τι γίνει\". Και γίνεται.",
            "Θες να αλλάξεις ζωή. Με μικρό κόστος και χωρίς ενόχληση.",
            "Είσαι οργανωμένος. Στο χάος σου.",
            "Η αυτοπεποίθησή σου είναι σταθερή. Χαμηλά, αλλά σταθερή.",
            "Δεν είσαι αντικοινωνικός. Απλώς είσαι selective με την ψυχική σου υγεία.",
            "Είσαι \"μια χαρά\". Με τη δική σου, πολύ ειδική έννοια.",
            "Σήμερα είσαι \"δεν προλαβαίνω\" ενώ προλαβαίνεις να σκρολάρεις.",
            "Δεν είσαι αναποφάσιστος. Απλώς όλα σε κουράζουν εξίσου.",
            "Έχεις πει \"τελευταία φορά\". Πολλές τελευταίες φορές.",
            "Σήμερα το πήρες απόφαση: να μη πάρεις αποφάσεις.",
            "Δεν θες να σε καταλάβουν. Θες να σε αφήσουν.",
            "Είσαι σε mood \"μην μου βάζεις tasks\".",
            "Είσαι αποτελεσματικός. Στο να αποφεύγεις το κυρίως θέμα.",
            "Σήμερα κάνεις το minimum. Και το minimum αντιστέκεται.",
            "Είσαι έτοιμος να ξεκινήσεις. Αύριο. Πιο έτοιμος.",
            "Δεν βαριέσαι. Απλώς όλα σου φαίνονται \"meh\".",
            "Έχεις χόμπι. Να σκέφτεσαι τι θα έκανες αν είχες χρόνο.",
            "Σήμερα είσαι \"θα το δω\" και δεν θα το δεις.",
            "Δεν έχεις θέμα. Έχεις συλλογή από μικρά θέματα.",
            "Είσαι zen. Από έλλειψη αντιδράσεων.",
            "Σήμερα είσαι \"μην ανοίγεις κουβέντες\".",
            "Είσαι σε φάση \"ναι οκ\" με εσωτερικό scream.",
            "Το προσπάθησες. Με το βλέμμα.",
            "Σήμερα είσαι \"έχω πολλά\" και είναι όλα στο κεφάλι σου.",
            "Είσαι καλός στο να ξεκινάς. Κακός στο να συνεχίζεις.",
            "Σήμερα είσαι \"αρκεί να περάσει η μέρα\".",
            "Δεν θες να κάνεις λάθος. Άρα δεν κάνεις τίποτα. Έξυπνο.",
            "Σήμερα είσαι \"θα κοιμηθώ νωρίς\" και το ξέρεις ότι λες ψέματα.",
            "Είσαι \"θα αλλάξω\" αλλά πρώτα χρειάζεσαι ένα σνακ.",
            "Σήμερα είσαι κοινωνικός. Με όρους: όχι.",
            "Έχεις standards. Απλώς όχι για τον εαυτό σου.",
            "Σήμερα είσαι \"πάμε πάλι\" χωρίς το \"πάμε\".",
            "Θες ηρεμία. Και μετά ανοίγεις το κινητό.",
            "Είσαι σε φάση \"μη με ρωτάς, απλώς υπάρχω\".",
            "Σήμερα είσαι λειτουργικός. Όχι απαραίτητα χρήσιμος.",
            "Δεν είσαι μπερδεμένος. Απλώς δεν θες να ασχοληθείς.",
            "Έχεις άποψη. Την κρατάς για ώρα ανάγκης.",
            "Σήμερα είσαι \"θα το αφήσω έτσι\".",
            "Δεν κουράστηκες από τη δουλειά. Κουράστηκες από το νόημα.",
            "Έχεις ενέργεια. Απλώς τη φυλάς.",
            "Σήμερα δεν πήγες πίσω. Απλώς δεν προχώρησες.",
            "Έκανες focus. Σε λάθος πράγμα.",
            "Δεν είσαι αρνητικός. Είσαι ρεαλιστής με εμπειρία.",
            "Σήμερα είσαι \"δεν αξίζει τον κόπο\".",
            "Δεν θες να εξηγήσεις. Θες να τελειώνει.",
            "Είσαι σε φάση \"το παλεύω\" χωρίς το παλεύω.",
            "Σήμερα είσαι ήσυχος. Ύποπτα ήσυχος.",
            "Δεν έχεις θέμα. Έχεις απλώς χαμηλή ανοχή.",
            "Σήμερα είσαι \"όχι τώρα\".",
            "Έχεις ιδέες. Δεν έχεις όρεξη για συνέπειες.",
            "Δεν βαριέσαι. Έχεις δει το έργο.",
            "Σήμερα είσαι \"ας μη γίνει θέμα\".",
            "Δεν είσαι πίσω. Απλώς δεν έτρεξες.",
            "Σήμερα είσαι σε power-saving mode.",
            "Έχεις διάθεση. Όχι για αυτό.",
            "Δεν είσαι δύσκολος. Απλώς δεν σε ενθουσιάζει τίποτα εύκολα.",
            "Σήμερα είσαι \"ας το αφήσουμε εδώ\".",
            "Δεν ξέχασες. Απλώς δεν έδωσες σημασία.",
            "Σήμερα είσαι πρακτικός. Μέχρι αδιαφορίας.",
            "Δεν είσαι ψυχρός. Έχεις κλείσει ειδοποιήσεις.",
            "Σήμερα είσαι \"έτσι είμαστε\".",
            "Δεν απογοητεύτηκες. Το περίμενες.",
            "Σήμερα είσαι σε φάση \"δεν θα το ανοίξω\".",
            "Έχεις εμπειρία. Γι' αυτό δεν ενθουσιάζεσαι.",
            "Σήμερα είσαι \"το βλέπουμε\".",
            "Δεν έχασες τον έλεγχο. Τον άφησες.",
            "Σήμερα είσαι ήρεμος. Με εσωτερική ένταση.",
            "Δεν αγχώνεσαι. Απλώς δεν σε νοιάζει όσο παλιά.",
            "Σήμερα είσαι \"όπως να 'ναι\".",
            "Δεν το παράκανες. Το άφησες στη μέση.",
            "Σήμερα είσαι λειτουργικός μόνο στα βασικά.",
            "Δεν είσαι εκτός. Απλώς δεν μπήκες.",
            "Σήμερα είσαι \"δεν θα το κάνω θέμα\".",
            "Δεν βαρέθηκες τους άλλους. Τους κατάλαβες.",
            "Σήμερα είσαι low effort, high awareness.",
            "Δεν είσαι αποστασιοποιημένος. Προστατεύεσαι.",
            "Σήμερα είσαι \"ας περάσει\".",
            "Δεν είσαι αρνητικός. Είσαι κουρασμένος από ενθουσιασμό.",
            "Σήμερα είσαι \"δεν χρειάζεται συνέχεια\".",
            "Δεν έκανες πίσω. Έμεινες εκεί.",
            "Σήμερα είσαι σε φάση \"καλά είναι\".",
            "Δεν ψάχνεις λύσεις. Ψάχνεις ησυχία.",
            "Σήμερα είσαι \"μην το τραβήξουμε\".",
            "Δεν είσαι αδιάφορος. Έχεις κάνει επιλογές.",
            "Σήμερα είσαι όσο χρειάζεται.",
            "Δεν έχασες το ενδιαφέρον. Το εξάντλησες.",
            "Σήμερα είσαι \"ας το αφήσουμε για αύριο\".",
            "Δεν είσαι κουρασμένος. Είσαι χορτάτος από προσπάθεια.",
            "Σήμερα είσαι σε mood \"όχι παραπάνω\".",
            "Δεν παραιτήθηκες. Απλώς έκοψες τα περιττά.",
            "Σήμερα είσαι απλός. Και σου φτάνει.",
            "Δεν θες να πείσεις. Θες να συνεχίσεις.",
            "Σήμερα είσαι \"μέχρι εδώ καλά\".",
            "Δεν έκανες λιγότερα. Έκανες όσα άντεχες."
        ];

        // Simple hash function for deterministic selection
        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32bit integer
            }
            return Math.abs(hash);
        }

        function getDateKey(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function formatDateForDisplay(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${day}/${month}/${year}`;
        }

        function getPhraseForDate(dateKey) {
            const hash = simpleHash(dateKey);
            const index = hash % PHRASES.length;
            return PHRASES[index];
        }

        function getYesterdayKey() {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            return getDateKey(yesterday);
        }

        function getRandomPhrase(excludePhrase = null) {
            let randomPhrase;
            do {
                const randomIndex = Math.floor(Math.random() * PHRASES.length);
                randomPhrase = PHRASES[randomIndex];
            } while (excludePhrase && randomPhrase === excludePhrase && PHRASES.length > 1);
            return randomPhrase;
        }

        function updateStreak() {
            try {
                if (typeof Storage === 'undefined') return null;
                
                const today = getDateKey(new Date());
                const lastVisit = localStorage.getItem('lastVisit');
                const currentStreak = parseInt(localStorage.getItem('streak') || '0', 10);
                
                if (lastVisit === today) {
                    return currentStreak;
                }
                
                const yesterday = getYesterdayKey();
                let newStreak;
                
                if (lastVisit === yesterday) {
                    newStreak = currentStreak + 1;
                } else if (lastVisit === null || lastVisit === '') {
                    newStreak = 1;
                } else {
                    newStreak = 1;
                }
                
                localStorage.setItem('lastVisit', today);
                localStorage.setItem('streak', newStreak.toString());
                
                return newStreak;
            } catch (e) {
                return null;
            }
        }

        function getStreak() {
            try {
                if (typeof Storage === 'undefined') return null;
                const streak = localStorage.getItem('streak');
                return streak ? parseInt(streak, 10) : null;
            } catch (e) {
                return null;
            }
        }

        function showPhrase(phrase, isReveal = false) {
            const loadingEl = document.getElementById('loading');
            const phraseEl = document.getElementById('phrase');
            
            if (isReveal) {
                loadingEl.style.display = 'none';
                phraseEl.textContent = phrase;
                setTimeout(() => {
                    phraseEl.classList.add('revealed');
                }, 50);
            } else {
                phraseEl.textContent = phrase;
                phraseEl.classList.add('revealed');
            }
        }

        function copyToClipboard(text) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    const btn = document.getElementById('copyBtn');
                    const originalText = btn.textContent;
                    btn.textContent = 'Αντιγράφηκε!';
                    setTimeout(() => {
                        btn.textContent = originalText;
                    }, 2000);
                }).catch(() => {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }

        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                const btn = document.getElementById('copyBtn');
                const originalText = btn.textContent;
                btn.textContent = 'Αντιγράφηκε!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            } catch (e) {
                // Ignore
            }
            document.body.removeChild(textArea);
        }

        async function shareUrl(buttonElement) {
            const url = window.location.href.split('#')[0];
            // Get button from DOM at click time (resilient to re-renders)
            const shareBtn = buttonElement || document.querySelector('[data-action="share"]');
            if (!shareBtn) {
                console.warn('Share button not found');
                return;
            }
            const originalText = shareBtn.textContent;

            if (navigator.share) {
                try {
                    await navigator.share({
                        title: document.title,
                        url: url
                    });
                } catch (err) {
                    if (err.name !== 'AbortError') {
                        console.warn('Share failed, falling back to clipboard:', err);
                        await copyUrlToClipboard(url, shareBtn, originalText);
                    }
                }
            } else {
                await copyUrlToClipboard(url, shareBtn, originalText);
            }
        }

        async function copyUrlToClipboard(url, button, originalText) {
            try {
                await navigator.clipboard.writeText(url);
                showCopyFeedback(button, originalText);
            } catch (err) {
                // Fallback to textarea method
                const textarea = document.createElement('textarea');
                textarea.value = url;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    showCopyFeedback(button, originalText);
                } catch (e) {
                    console.error('Failed to copy URL:', e);
                } finally {
                    document.body.removeChild(textarea);
                }
            }
        }

        function showCopyFeedback(button, originalText) {
            button.textContent = 'Copied!';
            setTimeout(() => {
                button.textContent = originalText;
            }, 1200);
        }

        // Extract accent color from image
        function extractAccentColor(img) {
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const size = 50;
                canvas.width = size;
                canvas.height = size;
                
                ctx.drawImage(img, 0, 0, size, size);
                const imageData = ctx.getImageData(0, 0, size, size);
                const pixels = imageData.data;
                
                let rSum = 0, gSum = 0, bSum = 0;
                let count = 0;
                
                for (let i = 0; i < pixels.length; i += 4) {
                    const r = pixels[i];
                    const g = pixels[i + 1];
                    const b = pixels[i + 2];
                    const brightness = (r + g + b) / 3;
                    
                    // Ignore very dark (near black) and very light (near white)
                    if (brightness > 30 && brightness < 220) {
                        rSum += r;
                        gSum += g;
                        bSum += b;
                        count++;
                    }
                }
                
                if (count === 0) {
                    return null;
                }
                
                let r = Math.round(rSum / count);
                let g = Math.round(gSum / count);
                let b = Math.round(bSum / count);
                
                // Boost saturation slightly
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                const delta = max - min;
                const saturation = delta / max;
                
                if (saturation < 0.3) {
                    // Low saturation, boost it
                    const boost = 1.3;
                    r = Math.min(255, Math.round(r + (max - r) * (boost - 1)));
                    g = Math.min(255, Math.round(g + (max - g) * (boost - 1)));
                    b = Math.min(255, Math.round(b + (max - b) * (boost - 1)));
                }
                
                // Ensure minimum contrast (not too dark)
                const brightness = (r + g + b) / 3;
                if (brightness < 80) {
                    const lighten = 1.4;
                    r = Math.min(255, Math.round(r * lighten));
                    g = Math.min(255, Math.round(g * lighten));
                    b = Math.min(255, Math.round(b * lighten));
                }
                
                return `rgb(${r}, ${g}, ${b})`;
            } catch (e) {
                console.warn('Failed to extract accent color:', e);
                return null;
            }
        }

        // Initialize background image
        function initBackground() {
            const today = new Date();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const bgLayer = document.getElementById('bgLayer');
            
            if (!bgLayer) {
                console.warn('bgLayer element not found');
                return;
            }
            
            console.log('Initializing background for month:', month);
            
            // Try different extensions
            const extensions = ['jpg', 'jpeg', 'png', 'webp'];
            let imagePath = '';
            
            function tryLoadImage(extIndex, pathIndex = 0) {
                if (extIndex >= extensions.length) {
                    console.warn('No background image found for month', month);
                    return;
                }
                
                const ext = extensions[extIndex];
                const paths = [
                    `./monthPhotos/month-${month}.${ext}`,
                    `/monthPhotos/month-${month}.${ext}`,
                    `monthPhotos/month-${month}.${ext}`
                ];
                
                if (pathIndex >= paths.length) {
                    // Try next extension
                    tryLoadImage(extIndex + 1, 0);
                    return;
                }
                
                imagePath = paths[pathIndex];
                const img = new Image();
                
                img.onload = function() {
                    bgLayer.style.backgroundImage = `url("${imagePath}")`;
                    bgLayer.style.opacity = '1';
                    bgLayer.style.display = 'block';
                    console.log('✓ Background image loaded:', imagePath);
                    
                    // Extract accent color from the same image
                    const accentColor = extractAccentColor(img);
                    if (accentColor) {
                        document.documentElement.style.setProperty('--accent', accentColor);
                        console.log('ACCENT SET TO:', accentColor);
                        
                        // Calculate accent-strong (slightly darker) and accent-light (lighter)
                        const rgbMatch = accentColor.match(/\d+/g);
                        if (rgbMatch && rgbMatch.length === 3) {
                            // accent-strong: darker version
                            const rStrong = Math.max(0, Math.round(parseInt(rgbMatch[0]) * 0.75));
                            const gStrong = Math.max(0, Math.round(parseInt(rgbMatch[1]) * 0.75));
                            const bStrong = Math.max(0, Math.round(parseInt(rgbMatch[2]) * 0.75));
                            const strongColor = `rgb(${rStrong}, ${gStrong}, ${bStrong})`;
                            document.documentElement.style.setProperty('--accent-strong', strongColor);
                            console.log('ACCENT STRONG SET TO:', strongColor);
                        }
                    } else {
                        console.warn('ACCENT EXTRACTION FAILED - using fallback');
                    }
                };
                
                img.onerror = function() {
                    console.warn('ACCENT IMAGE FAILED TO LOAD:', imagePath);
                    // Try next path, then next extension
                    tryLoadImage(extIndex, pathIndex + 1);
                };
                
                console.log('Trying to load:', imagePath);
                img.src = imagePath;
            }
            
            tryLoadImage(0, 0);
        }

        // Prevent double rendering
        window.__phraseRendered = false;

        // Initialize interactive UI with event delegation (resilient to re-renders)
        let interactiveUIInitialized = false;
        function initInteractiveUI() {
            // Only set up delegation once
            if (interactiveUIInitialized) {
                return;
            }
            interactiveUIInitialized = true;

            // Event delegation for all interactive buttons
            document.addEventListener('click', async (e) => {
                // Share button
                const shareBtn = e.target.closest('[data-action="share"]');
                if (shareBtn) {
                    e.preventDefault();
                    e.stopPropagation();
                    await shareUrl(shareBtn);
                    return;
                }

                // Cookie settings button
                const openCmpBtn = e.target.closest('[data-action="open-cookies"]');
                if (openCmpBtn) {
                    e.preventDefault();
                    e.stopPropagation();
                    if (window.__openCMP) {
                        await window.__openCMP();
                    } else {
                        alert('Οι ρυθμίσεις cookies δεν είναι ακόμη διαθέσιμες. Κάνε refresh και δοκίμασε ξανά.');
                    }
                    return;
                }

                // Skip phrase button
                const skipBtn = e.target.closest('[data-action="skip-phrase"]');
                if (skipBtn) {
                    e.preventDefault();
                    e.stopPropagation();
                    showFallback();
                    return;
                }
            }, { passive: false });

            console.log('Interactive UI initialized with event delegation');
        }

        // Cleanup overlays and unlock clicks
        function cleanupOverlays() {
            // Check if Cookiebot dialog is currently open
            const dialog = document.getElementById('CybotCookiebotDialog') || document.querySelector('.CybotCookiebotDialog');
            const isDialogOpen = dialog && window.getComputedStyle(dialog).display !== 'none';

            // Hide our gate and disable pointer events
            const gateEl = document.getElementById('consent-gate');
            if (gateEl) {
                gateEl.style.display = 'none';
                gateEl.style.pointerEvents = 'none';
                gateEl.style.zIndex = '-1';
            }
            const fallbackEl = document.getElementById('phrase-fallback');
            if (fallbackEl) {
                fallbackEl.style.pointerEvents = 'auto';
            }

            // Remove Cookiebot overlay after short delay (only if dialog is closed)
            setTimeout(() => {
                if (!isDialogOpen) {
                    const overlay = document.getElementById('CybotCookiebotDialogBodyUnderlay') || 
                                   document.querySelector('.CybotCookiebotDialogBodyUnderlay');
                    if (overlay) {
                        overlay.style.display = 'none';
                        overlay.style.pointerEvents = 'none';
                        overlay.style.zIndex = '-1';
                    }
                    
                    // Unlock body/html overflow only if dialog is not open
                    document.documentElement.style.overflow = '';
                    document.body.style.overflow = '';
                    document.body.style.overflowX = 'hidden';
                    document.body.style.position = '';
                    document.body.style.pointerEvents = '';
                    
                    // Remove any Cookiebot active classes that might lock scrolling
                    document.documentElement.classList.remove('CookiebotDialogActive', 'CybotCookiebotDialogActive');
                    document.body.classList.remove('CookiebotDialogActive', 'CybotCookiebotDialogActive');
                }

                // Ensure footer links are always clickable
                const footerLinks = document.querySelectorAll('footer a, footer button');
                footerLinks.forEach(link => {
                    link.style.pointerEvents = 'auto';
                    link.style.zIndex = '10';
                    link.style.position = 'relative';
                });

                // Ensure no high z-index element is blocking clicks
                const allHighZIndex = document.querySelectorAll('[style*="z-index"]');
                allHighZIndex.forEach(el => {
                    const zIndex = window.getComputedStyle(el).zIndex;
                    if (parseInt(zIndex) > 1000 && el.id !== 'CybotCookiebotDialog' && !el.closest('#CybotCookiebotDialog')) {
                        // Check if it's covering the footer
                        const rect = el.getBoundingClientRect();
                        const footer = document.querySelector('footer');
                        if (footer) {
                            const footerRect = footer.getBoundingClientRect();
                            if (rect.bottom > footerRect.top && rect.top < footerRect.bottom) {
                                // Overlapping footer - reduce z-index or hide
                                if (!el.classList.contains('hero') && !el.classList.contains('card')) {
                                    el.style.pointerEvents = 'none';
                                }
                            }
                        }
                    }
                });
            }, 100);
        }

        // Render phrase (called after consent granted)
        function renderPhrase() {
            if (window.__phraseRendered) {
                cleanupOverlays();
                return;
            }

            const today = new Date();
            const todayKey = getDateKey(today);
            const dailyPhrase = getPhraseForDate(todayKey);
            
            // Update section title with date
            const sectionTitle = document.getElementById('sectionTitle');
            const displayDate = formatDateForDisplay(today);
            sectionTitle.textContent = `Η σημερινή φράση (${displayDate})`;
            
            // Update streak
            const streak = updateStreak();
            const streakLine = document.getElementById('streakLine');
            if (streak && streak > 0) {
                streakLine.textContent = `🔥 Συνεχόμενες επισκέψεις: ${streak} ${streak === 1 ? 'ημέρα' : 'ημέρες'}`;
            } else {
                streakLine.style.display = 'none';
            }
            
            // Show phrase container and content
            const gateEl = document.getElementById('consent-gate');
            const fallbackEl = document.getElementById('phrase-fallback');
            const containerEl = document.getElementById('phrase-container');
            const contentEl = document.getElementById('phrase-content');
            
            if (gateEl) {
                gateEl.style.display = 'none';
                gateEl.style.pointerEvents = 'none';
            }
            if (fallbackEl) {
                fallbackEl.style.display = 'none';
                fallbackEl.style.pointerEvents = 'none';
            }
            if (containerEl) {
                containerEl.style.display = 'block';
            }
            if (contentEl) {
                contentEl.style.display = 'block';
            }
            
            // Cleanup overlays
            cleanupOverlays();
            
            // Ensure interactive UI is initialized
            initInteractiveUI();
            
            // Show phrase with reveal animation
            setTimeout(() => {
                showPhrase(dailyPhrase, true);
                window.__phraseRendered = true;
            }, 300);
        }

        // Show fallback (called after consent denied)
        function showFallback() {
            const gateEl = document.getElementById('consent-gate');
            const containerEl = document.getElementById('phrase-container');
            const fallbackEl = document.getElementById('phrase-fallback');
            const contentEl = document.getElementById('phrase-content');
            
            if (gateEl) {
                gateEl.style.display = 'none';
                gateEl.style.pointerEvents = 'none';
            }
            if (containerEl) {
                containerEl.style.display = 'block';
            }
            if (fallbackEl) {
                fallbackEl.style.display = 'block';
                fallbackEl.style.pointerEvents = 'auto';
            }
            if (contentEl) {
                contentEl.style.display = 'none';
            }
            
            cleanupOverlays();
            initInteractiveUI();
        }

        // Update UI based on Cookiebot consent state
        function updateUIFromConsent() {
            if (!window.Cookiebot || !window.Cookiebot.consent) {
                return;
            }

            const c = window.Cookiebot.consent;
            const hasNonNecessary = !!(c.preferences || c.statistics || c.marketing);

            if (hasNonNecessary) {
                renderPhrase();
            } else {
                showFallback();
                window.__phraseRendered = false;
            }
        }

        // Initial phrase display setup
        function initPhraseDisplay() {
            // Check if Cookiebot already has consent decision
            if (window.Cookiebot && window.Cookiebot.consent) {
                updateUIFromConsent();
            } else {
            // Initial state: show gate, hide phrase
            document.getElementById('consent-gate').style.display = 'block';
            document.getElementById('phrase-container').style.display = 'none';
            document.getElementById('phrase-fallback').style.display = 'none';
            }
        }
        
        // Smooth scroll handler for anchor links (Safari fix)
        function handleAnchorClick(e) {
            const href = e.currentTarget.getAttribute('href');
            if (href && href.startsWith('#')) {
                e.preventDefault();
                const targetId = href.substring(1);
                const target = document.getElementById(targetId) || document.querySelector(`[name="${targetId}"]`);
                if (target) {
                    const headerOffset = 80;
                    const elementPosition = target.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            }
        }

        // Handle consent granted (from CookiebotOnAccept event)
        function handleConsentGranted() {
            updateUIFromConsent();
            cleanupOverlays();
        }

        // Handle consent denied (from CookiebotOnDecline event)
        function handleConsentDenied() {
            updateUIFromConsent();
            cleanupOverlays();
        }

        // Safari hard reset: if Cookiebot not initialized after 3s, show fallback
        setTimeout(() => {
            if (!window.Cookiebot) {
                console.warn('Cookiebot not initialized after 3s - showing fallback');
                // Don't permanently block - user can still open settings
                const gateEl = document.getElementById('consent-gate');
                if (gateEl && gateEl.style.display === 'none') {
                    gateEl.style.display = 'block';
                }
            } else {
                // Cookiebot loaded - check existing consent
                updateUIFromConsent();
            }
        }, 3000);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initBackground();
            initPhraseDisplay();
            
            // Initialize interactive UI (event delegation)
            initInteractiveUI();
            
            // Listen for Cookiebot events
            window.addEventListener('CookiebotOnAccept', () => {
                handleConsentGranted();
                cleanupOverlays();
                initInteractiveUI(); // Re-ensure handlers work
            });
            window.addEventListener('CookiebotOnDecline', () => {
                handleConsentDenied();
                cleanupOverlays();
                initInteractiveUI(); // Re-ensure handlers work
            });
            window.addEventListener('CookiebotOnLoad', () => {
                cleanupOverlays();
                initInteractiveUI();
            });
            
            // Also listen for TCF events (for ads.js compatibility)
            window.addEventListener('cmp:consent-updated', () => {
                updateUIFromConsent();
                cleanupOverlays();
                initInteractiveUI(); // Re-ensure handlers work
            });

            // Add smooth scroll handlers to footer links (for anchor links)
            const footerLinks = document.querySelectorAll('footer a[href^="#"]');
            footerLinks.forEach(link => {
                link.addEventListener('click', handleAnchorClick);
            });

            // Run cleanup once after page load
            setTimeout(() => {
                cleanupOverlays();
                initInteractiveUI();
            }, 500);
        });
    </script>
</body>
</html>
